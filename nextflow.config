/*
 * ==================================================
 * EPSCoR-NASA Microbiome Pipeline configuration file
 * Version: v0.1
 * Author: Kanishka Manna & Hans Vasquez-Gross
 * Date: 2025-04-18
 * ==================================================
 */

/*
 * Manifest information
 * --------------------
 */


/* 
 * Execution parameters
 * --------------------
 */
 params.help = false
 params.samplesheet = null
 params.output = null
 params.library = "PE"
 params.force = false
 docker.enabled = false


/*
 * Module specific parameters
 * --------------------------
 */

 // Paramters for KneadData module
 params.kneaddata_db = "human_transcriptome:bowtie2,ribosomal_RNA:bowtie2"
 params.kneaddata_path = "./kneaddata_db/"

//  Parameters for MetaPhlAn module

 // Parameters for Humann module
 //params.humann_nucleotide_db = "path/to/humann-nucleotide-database"
 //params.humann_protein_db = "path/to/humann-protein-database"
 //params.humann_pathway_db = "path/to/humann-pathway-database"     (need to test this parameter)


/*
 * Define execution profiles for different environments
 * ----------------------------------------------------
 */


// Help message
params.help_message = """

        Usage:

        ```
        nextflow main.nf \\
            --samplesheet INPUT.csv \\
            --output OUTPUT_DIR \\
            --library PE \\
            --kneaddata_path /your/path/to/save/kneaddata \\
            --kneaddata_db REFERENCE_DB
        ```

        parameter options:
            * --samplesheet : Absolute path to a CSV file where each row specifies the sample name and the file paths to paired-end FASTQ files (R1 and R2), separated by commas.

            * --output : Absoulute path to the output directory where results will be saved.

            * --library : sequencing library type, e.g., PE for paired-end or SE for single-end. (default: PE)

            * --kneaddata_path : Absolute path to saved or where to save knead_data databases (default: ./kneaddata_db/)

            * --kneaddata_db : comma seperated list with no spaces of databases for kneadata to use in database:build format  (default: human_transcriptome:bowtie2,ribosomal_RNA:bowtie2)
                    Possible options: 
                    human_transcriptome:bowtie2, ribosomal_RNA:bowtie2, mouse_C57BL:bowtie2, dog_genome:bowtie2, cat_genome:bowtie2, human_genome:bmtagger

                    There currently is a bug in the current kneaddata v0.12.2 release of kneaddata for human_genome:bowtie2. This will be fixed in 0.12.3.
                    You can manually create the "human_genome_bowtie2" directory and manually download the correct file here 
                    https://huttenhower.sph.harvard.edu/kneadData_databases/Homo_sapiens_hg39_T2T_Bowtie2_v0.1.tar.gz

                    and extract it into the kneaddata_path/human_genome_bowtie2 directory. The within that directory run the following command: touch .done
    """